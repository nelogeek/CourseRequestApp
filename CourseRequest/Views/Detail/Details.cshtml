@{
    ViewData["Title"] = "Содержание заявки";
}

@using System.Security.Principal
@{
    WindowsIdentity currentIdentity = WindowsIdentity.GetCurrent();
    string userName = currentIdentity?.Name ?? "Неизвестно";
}

@model Request


<!-- DatePicker -->
<script type="text/javascript" src='~/lib/jquery/dist/jquery.min.js'></script>
<script type="text/javascript" src='~/lib/twitter-bootstrap/3.0.3/js/bootstrap.min.js'></script>
<link rel="stylesheet" href='~/lib/twitter-bootstrap/3.0.3/css/bootstrap.min.css' media="screen" />
<link rel="stylesheet" href="~/lib/bootstrap-datepicker/1.6.4/css/bootstrap-datepicker.css" type="text/css" />
@section scripts{
    <script src="~/lib/bootstrap-datepicker/1.6.4/js/bootstrap-datepicker.js" type="text/javascript"></script>
    <script src="~/lib/bootstrap-datepicker/1.6.4/locales/bootstrap-datepicker.ru.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(function () {
            $('#CourseBeginning, #CourseEnd').datepicker({
                changeMonth: true,
                changeYear: true,
                todayHighlight: true,
                format: "dd.mm.yyyy",
                language: "ru"
            });
        });
    </script>
}
<!--------------->



<div class="container-fluid">
    <div class="row mt-3">
        <div class="col">
            <div>
                <b>Содержание заявки</b>
            </div>
            <div>
                <span class="user">Пользователь: @userName</span>
                <div id="userName" data-username="@userName"></div>
            </div>
        </div>
        <div class="col-auto text-center">
            <a class="btn btn-info" asp-area="" asp-controller="Home" asp-action="Index">Назад</a>
        </div>
    </div>

    <hr />

    <div class="row mt-2">
        <div class="col-md-4">
            <label for="id">Id заявки: @Model.Id</label>
        </div>
    </div>

    <div class="row mb-4 mt-2">
        <div class="col-md-4">
            <label for="FullName">ФИО обучаемого</label>
            <input type="text" class="form-control" id="FullName" name="FullName" placeholder="Введите значение" value="@Model.FullName" required />
        </div>
        <div class="col-md-4">
            <label for="CourseName">Наименование курса</label>
            <textarea class="form-control" id="CourseName" name="CourseName" rows="1" placeholder="Введите текст" required>@Model.CourseName</textarea>
        </div>
        <div class="col-md-4">
            <label for="Status">Статус</label>
            <select class="form-control" id="StatusId" name="StatusId">
                <option value="1">Заявлен на обучение</option>
                <option value="2">Курс пройден</option>
            </select>
        </div>
        <script>
            var selectedValue = @Model.StatusId;
            document.getElementById("StatusId").value = selectedValue;
        </script>
    </div>

    <div class="row mb-4">
        <div class="col-md-4">
            <label for="Department">Отдел</label>
            <input type="text" class="form-control" id="Department" name="Department" placeholder="Введите значение" value="@Model.Department" required />
        </div>
        <div class="col-md-4">
            <label for="CourseType">Тип курса</label>
            <select class="form-control" id="CourseTypeId" name="CourseTypeId">
                <option value="1">Базовый</option>
                <option value="2">Продвинутый</option>
                <option value="3">Для администраторов</option>
            </select>
        </div>
        <script>
            var selectedValue = @Model.CourseTypeId;
            document.getElementById("CourseTypeId").value = selectedValue;
        </script>
        <div class="col-md-4">
            <label for="CourseBeginning">Период проведения курса</label>
            <div class="row">
                <div class="col-md-6">
                    <input type="text" class="form-control" id="CourseBeginning" name="CourseBeginning" placeholder="от" value="@Model.CourseBeginning.ToString("dd.MM.yyyy")" required />
                </div>
                <div class="col-md-6">
                    <input type="text" class="form-control" id="CourseEnd" name="CourseEnd" placeholder="до" value="@Model.CourseEnd.ToString("dd.MM.yyyy")" required />
                </div>
            </div>
        </div>
    </div>
    <div class="row mb-4">

        <div class="col-md-4">
            <label for="Position">Должность</label>
            <input type="text" class="form-control" id="Position" name="Position" placeholder="Введите значение" value="@Model.Position" required />
        </div>
        <div class="col-md-4">
            <label for="Notation">Примечание</label>
            <textarea class="form-control" id="Notation" name="Notation" rows="1" placeholder="Введите текст">@Model.Notation</textarea>
        </div>
    </div>
</div>

